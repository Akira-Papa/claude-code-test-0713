# 画面設計書 - シンプル掲示板アプリ

## 1. 画面一覧

| 画面名 | パス | 説明 |
|--------|------|------|
| トップページ（投稿一覧） | `/` | 投稿の一覧表示と新規投稿フォーム |
| カテゴリー別投稿一覧 | `/category/[slug]` | 特定カテゴリーの投稿一覧 |
| 投稿詳細 | `/post/[id]` | 個別投稿の詳細表示 |
| 投稿編集 | `/post/[id]/edit` | 投稿の編集画面 |
| ログイン | `/auth/signin` | ユーザーログイン画面 |
| 新規登録 | `/auth/signup` | ユーザー新規登録画面 |
| メール認証 | `/auth/verify` | メール認証コード入力画面 |
| パスワードリセット | `/auth/reset-password` | パスワードリセット申請画面 |
| パスワード再設定 | `/auth/new-password` | 新しいパスワード設定画面 |
| プロフィール | `/profile` | ユーザープロフィール表示・編集 |
| マイページ | `/dashboard` | ユーザーの投稿一覧・管理 |

## 2. 共通コンポーネント

### 2.1 ヘッダー
- **アプリタイトル**: 「シンプル掲示板」
- **ナビゲーション**: 
  - ホーム
  - カテゴリー一覧（ドロップダウン）
- **ユーザーメニュー（ログイン時）**:
  - プロフィールアイコン
  - マイページ
  - プロフィール設定
  - ログアウト
- **認証ボタン（未ログイン時）**:
  - ログイン
  - 新規登録
- **レスポンシブ対応**: モバイルではハンバーガーメニュー

### 2.2 フッター
- コピーライト表記
- 利用規約リンク（オプション）

## 3. 各画面詳細

### 3.1 トップページ（投稿一覧）

#### レイアウト
```
+----------------------------------+
|           ヘッダー                |
+----------------------------------+
|                                  |
|    [新規投稿フォーム]             |
|                                  |
+----------------------------------+
|                                  |
|    [投稿一覧]                    |
|    - 投稿1                       |
|    - 投稿2                       |
|    - 投稿3                       |
|    ...                          |
|    [もっと読む]                  |
|                                  |
+----------------------------------+
|           フッター                |
+----------------------------------+
```

#### 新規投稿フォーム
- **入力フィールド（ログイン時）**:
  - カテゴリー（Select）: 必須、ドロップダウン選択
  - タイトル（TextField）: 必須、最大100文字
  - 本文（TextField multiline）: 必須、最大1000文字
- **入力フィールド（未ログイン時）**:
  - 名前（TextField）: 必須、最大50文字
  - カテゴリー（Select）: 必須、ドロップダウン選択
  - タイトル（TextField）: 必須、最大100文字
  - 本文（TextField multiline）: 必須、最大1000文字
  - 編集用パスワード（TextField type="password"）: 必須、4-20文字、編集・削除時に使用
- **投稿ボタン**: 
  - Primary color
  - 投稿中はローディング表示
  - 成功時はSnackbarで通知

#### 投稿一覧
- **表示項目**（Card形式）:
  - タイトル
  - 投稿者名（ログインユーザーの場合はアバター表示）
  - カテゴリー（Chip表示）
  - 投稿日時
  - 本文（最初の100文字 + ...）
  - アクションボタン（編集・削除）※投稿者本人または編集用パスワードと一致する場合のみ表示
- **ソート**: 新着順（投稿日時降順）
- **ページネーション**: 
  - 1ページ10件表示
  - 無限スクロール実装

### 3.2 カテゴリー別投稿一覧

#### レイアウト
- トップページと同様の構成
- ヘッダー下に現在のカテゴリー名を表示（Breadcrumb）
- 新規投稿フォームのカテゴリーは自動選択

### 3.3 投稿詳細

#### レイアウト
```
+----------------------------------+
|           ヘッダー                |
+----------------------------------+
| [パンくずリスト]                  |
+----------------------------------+
|                                  |
|  [投稿詳細]                      |
|  - タイトル（Typography h4）      |
|  - 投稿者名・日時                 |
|  - カテゴリー（Chip）             |
|  - 本文（全文表示）               |
|                                  |
|  [アクションボタン]               |
|  - 編集ボタン                    |
|  - 削除ボタン                    |
|  ※パスワード確認後に表示         |
|                                  |
+----------------------------------+
|  [関連投稿]                      |
|  同じカテゴリーの最新3件          |
+----------------------------------+
|           フッター                |
+----------------------------------+
```

### 3.4 投稿編集

#### レイアウト
```
+----------------------------------+
|           ヘッダー                |
+----------------------------------+
| [パンくずリスト]                  |
| ホーム > 投稿詳細 > 編集          |
+----------------------------------+
|                                  |
|  [編集フォーム]                   |
|  - 名前（TextField）※既存値表示  |
|  - カテゴリー（Select）※既存値   |
|  - タイトル（TextField）※既存値  |
|  - 本文（TextField multiline）   |
|  - 編集用パスワード（TextField） |
|                                  |
|  [ボタン]                        |
|  - 更新（Primary）               |
|  - キャンセル（Secondary）        |
|                                  |
+----------------------------------+
|           フッター                |
+----------------------------------+
```

#### 編集フォーム仕様
- 既存の投稿データを初期値として表示
- パスワードは必須入力（セキュリティのため毎回入力）
- 更新成功時は投稿詳細画面へリダイレクト
- キャンセル時は投稿詳細画面へ戻る

### 3.5 削除確認モーダル

#### デザイン
- **Dialog component（MUI）使用**
- **タイトル**: 「投稿を削除しますか？」
- **本文**: 「この操作は取り消すことができません。」
- **パスワード入力フィールド**: 編集用パスワードの確認
- **ボタン**:
  - 削除（Error color）
  - キャンセル（Default）

## 4. レスポンシブデザイン

### ブレークポイント
- xs: 0px〜599px（モバイル）
- sm: 600px〜959px（タブレット）
- md: 960px〜1279px（小型デスクトップ）
- lg: 1280px〜1919px（デスクトップ）
- xl: 1920px〜（大型デスクトップ）

### モバイル対応
- **新規投稿フォーム**: 
  - フィールドは縦並び
  - 折りたたみ可能（Accordion）
- **投稿一覧**:
  - Card内のレイアウトを縦並びに変更
  - フォントサイズ調整

## 5. UIコンポーネント仕様（MUI）

### カラーパレット
```typescript
primary: {
  main: '#1976d2', // 青
}
secondary: {
  main: '#dc004e', // 赤
}
background: {
  default: '#f5f5f5',
  paper: '#ffffff',
}
```

### Typography
- h4: タイトル表示
- body1: 本文
- body2: 補助情報（投稿者名、日時など）
- caption: 小さな注記

### 共通スタイル
- Card elevation: 2
- ボタン: contained variant
- TextField: outlined variant
- 余白: MUIのspacing(2)を基本単位として使用

## 6. エラー処理

### バリデーションエラー
- 各フィールド下にエラーメッセージ表示（FormHelperText）
- エラー時はフィールドをerror状態に

### システムエラー
- Snackbarでエラーメッセージ表示
- 重大なエラーはAlert componentで表示

## 7. ローディング状態

### 投稿一覧
- Skeleton componentを使用
- 3つのCard型Skeletonを表示

### 投稿送信中
- ボタンにCircularProgress表示
- フォームを無効化

## 8. アクセシビリティ

- すべてのフォーム要素にlabel設定
- キーボードナビゲーション対応
- スクリーンリーダー対応（aria-label使用）
- 色のコントラスト比はWCAG AA基準を満たす

## 9. 認証関連画面詳細

### 9.1 ログイン画面

#### レイアウト
```
+----------------------------------+
|           ヘッダー                |
+----------------------------------+
|                                  |
|  [ログインフォーム]               |
|  - メールアドレス                 |
|  - パスワード                    |
|  - ログインボタン                 |
|                                  |
|  [リンク]                        |
|  - パスワードを忘れた方           |
|  - 新規登録はこちら               |
|                                  |
|  [ソーシャルログイン]             |
|  - Googleでログイン               |
|                                  |
+----------------------------------+
|           フッター                |
+----------------------------------+
```

#### バリデーション
- メールアドレス: 必須、メール形式
- パスワード: 必須、8文字以上

### 9.2 新規登録画面

#### レイアウト
```
+----------------------------------+
|           ヘッダー                |
+----------------------------------+
|                                  |
|  [登録フォーム]                   |
|  - ユーザー名                    |
|  - メールアドレス                 |
|  - パスワード                    |
|  - パスワード（確認）             |
|  - 利用規約同意チェックボックス    |
|  - 登録ボタン                    |
|                                  |
|  [リンク]                        |
|  - すでにアカウントをお持ちの方    |
|                                  |
+----------------------------------+
|           フッター                |
+----------------------------------+
```

#### バリデーション
- ユーザー名: 必須、3-20文字、英数字とアンダースコア
- メールアドレス: 必須、メール形式、重複チェック
- パスワード: 必須、8文字以上、大小英数字含む
- パスワード確認: 必須、パスワードと一致

### 9.3 メール認証画面

#### レイアウト
```
+----------------------------------+
|           ヘッダー                |
+----------------------------------+
|                                  |
|  [認証コード入力]                 |
|  認証コードをメールで送信しました   |
|                                  |
|  - 6桁の認証コード入力            |
|  - 確認ボタン                    |
|                                  |
|  [再送信]                        |
|  - コードを再送信（60秒後に有効）  |
|                                  |
+----------------------------------+
|           フッター                |
+----------------------------------+
```

### 9.4 パスワードリセット申請画面

#### レイアウト
```
+----------------------------------+
|           ヘッダー                |
+----------------------------------+
|                                  |
|  [パスワードリセット]             |
|  登録メールアドレスを入力          |
|                                  |
|  - メールアドレス                 |
|  - 送信ボタン                    |
|                                  |
|  [説明文]                        |
|  パスワードリセット用のリンクを     |
|  メールで送信します               |
|                                  |
+----------------------------------+
|           フッター                |
+----------------------------------+
```

### 9.5 新しいパスワード設定画面

#### レイアウト
```
+----------------------------------+
|           ヘッダー                |
+----------------------------------+
|                                  |
|  [新しいパスワード設定]           |
|  - 新しいパスワード               |
|  - 新しいパスワード（確認）        |
|  - 設定ボタン                    |
|                                  |
|  [パスワード要件]                 |
|  - 8文字以上                     |
|  - 大文字・小文字・数字を含む     |
|                                  |
+----------------------------------+
|           フッター                |
+----------------------------------+
```

### 9.6 プロフィール画面

#### レイアウト
```
+----------------------------------+
|           ヘッダー                |
+----------------------------------+
|                                  |
|  [プロフィール情報]               |
|  - アバター画像アップロード       |
|  - ユーザー名（編集可）           |
|  - メールアドレス（表示のみ）     |
|  - 自己紹介（編集可）             |
|  - 登録日                        |
|                                  |
|  [アカウント設定]                 |
|  - パスワード変更                |
|  - メール通知設定                |
|  - アカウント削除                |
|                                  |
+----------------------------------+
|           フッター                |
+----------------------------------+
```

### 9.7 マイページ（ダッシュボード）

#### レイアウト
```
+----------------------------------+
|           ヘッダー                |
+----------------------------------+
|                                  |
|  [統計情報]                      |
|  - 投稿数                        |
|  - 最終投稿日                    |
|                                  |
|  [自分の投稿一覧]                 |
|  - タイトル                      |
|  - カテゴリー                    |
|  - 投稿日時                      |
|  - 編集・削除ボタン               |
|                                  |
|  [ページネーション]               |
|                                  |
+----------------------------------+
|           フッター                |
+----------------------------------+
```